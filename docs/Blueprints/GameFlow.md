# ğŸ¯ Blueprint: Game Flow & State Management

**System**: Game States, Saving, UI Flow  
**Complexity**: Medium  
**Blueprint Types**: Game Mode, Game Instance, UI Widgets  

---

## Overview

The Game Flow system manages overall game state, progression, saving/loading, and UI flow. It's the backbone that ties all other systems together.

---

## Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     GAME FLOW ARCHITECTURE                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                   GI_VerdantHeart                         â”‚   â”‚
â”‚  â”‚                  (Game Instance)                          â”‚   â”‚
â”‚  â”‚  â€¢ Persists across levels                                 â”‚   â”‚
â”‚  â”‚  â€¢ Holds save data                                        â”‚   â”‚
â”‚  â”‚  â€¢ Manages audio settings                                 â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                              â”‚                                   â”‚
â”‚                              â–¼                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                   GM_VerdantHeart                         â”‚   â”‚
â”‚  â”‚                    (Game Mode)                            â”‚   â”‚
â”‚  â”‚  â€¢ Spawns player                                          â”‚   â”‚
â”‚  â”‚  â€¢ Manages game state                                     â”‚   â”‚
â”‚  â”‚  â€¢ Handles checkpoints                                    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                              â”‚                                   â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚              â–¼               â–¼               â–¼                  â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚     â”‚   Player    â”‚  â”‚  UI Manager â”‚  â”‚   Level     â”‚          â”‚
â”‚     â”‚ Controller  â”‚  â”‚             â”‚  â”‚  Streaming  â”‚          â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Game States

### E_GameState Enum

```
E_GameState:
â”œâ”€â”€ MainMenu
â”œâ”€â”€ Loading
â”œâ”€â”€ Playing
â”œâ”€â”€ Paused
â”œâ”€â”€ Cutscene
â”œâ”€â”€ Dialogue
â”œâ”€â”€ Death
â”œâ”€â”€ Victory
â””â”€â”€ Credits
```

### State Transitions

```
                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                         â”‚  MAIN MENU   â”‚
                         â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚ Start Game
                                â–¼
                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                         â”‚   LOADING    â”‚
                         â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚ Load Complete
                                â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                 PLAYING                   â”‚
         â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚         â”‚         â”‚         â”‚
         Pauseâ”‚    Deathâ”‚  Cutsceneâ”‚   Victoryâ”‚
              â–¼         â–¼         â–¼         â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ PAUSED â”‚ â”‚ DEATH  â”‚ â”‚CUTSCENEâ”‚ â”‚VICTORY â”‚
         â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
             â”‚          â”‚          â”‚          â”‚
        Resumeâ”‚    Respawnâ”‚    Completeâ”‚    Creditsâ”‚
             â”‚          â”‚          â”‚          â”‚
             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                         â”‚   CREDITS    â”‚â”€â”€â–º Main Menu
                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Game Instance

### GI_VerdantHeart

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ GI_VerdantHeart (Game Instance)                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  Variables:                                                 â”‚
â”‚  â”œâ”€â”€ CurrentSaveData (S_SaveData struct)                    â”‚
â”‚  â”œâ”€â”€ Settings (S_GameSettings struct)                       â”‚
â”‚  â”œâ”€â”€ bHasSaveData (bool)                                    â”‚
â”‚  â””â”€â”€ CurrentPlayTime (float)                                â”‚
â”‚                                                             â”‚
â”‚  Functions:                                                 â”‚
â”‚  â”œâ”€â”€ SaveGame()                                             â”‚
â”‚  â”œâ”€â”€ LoadGame()                                             â”‚
â”‚  â”œâ”€â”€ NewGame()                                              â”‚
â”‚  â”œâ”€â”€ ApplySettings()                                        â”‚
â”‚  â””â”€â”€ GetCollectibleProgress()                               â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Save Data Structure

```
S_SaveData (Struct):
â”œâ”€â”€ CurrentCheckpoint (Name) - Checkpoint ID
â”œâ”€â”€ CurrentArea (E_Area) - Which area player is in
â”œâ”€â”€ PlayerHealth (float)
â”œâ”€â”€ PlayerMaxHealth (float)
â”œâ”€â”€ CollectedEssence (Array<Name>) - IDs of collected essence
â”œâ”€â”€ CollectedLoreStones (Array<Name>)
â”œâ”€â”€ CollectedRelics (Array<Name>)
â”œâ”€â”€ SolvedPuzzles (Array<Name>) - Puzzles that stay solved
â”œâ”€â”€ PlayTime (float)
â””â”€â”€ Timestamp (DateTime)
```

---

## Game Mode

### GM_VerdantHeart

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ GM_VerdantHeart (Game Mode)                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  Variables:                                                 â”‚
â”‚  â”œâ”€â”€ CurrentGameState (E_GameState)                         â”‚
â”‚  â”œâ”€â”€ CurrentCheckpoint (BP_Checkpoint ref)                  â”‚
â”‚  â”œâ”€â”€ PlayerCharacter (BP_KiraCharacter ref)                 â”‚
â”‚  â””â”€â”€ bCanPause (bool)                                       â”‚
â”‚                                                             â”‚
â”‚  Functions:                                                 â”‚
â”‚  â”œâ”€â”€ SetGameState(NewState)                                 â”‚
â”‚  â”œâ”€â”€ RegisterCheckpoint(Checkpoint)                         â”‚
â”‚  â”œâ”€â”€ RespawnPlayer()                                        â”‚
â”‚  â”œâ”€â”€ OnPlayerDeath()                                        â”‚
â”‚  â”œâ”€â”€ TriggerCutscene(CutsceneID)                            â”‚
â”‚  â””â”€â”€ CompleteArea()                                         â”‚
â”‚                                                             â”‚
â”‚  Events:                                                    â”‚
â”‚  â”œâ”€â”€ OnGameStateChanged                                     â”‚
â”‚  â”œâ”€â”€ OnCheckpointReached                                    â”‚
â”‚  â””â”€â”€ OnAreaComplete                                         â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### State Change Handler

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ SetGameState Function                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  [Function: SetGameState]                                   â”‚
â”‚  Input: NewState (E_GameState)                              â”‚
â”‚         â”‚                                                   â”‚
â”‚         â–¼                                                   â”‚
â”‚  [Store PreviousState = CurrentGameState]                   â”‚
â”‚         â”‚                                                   â”‚
â”‚         â–¼                                                   â”‚
â”‚  [Set CurrentGameState = NewState]                          â”‚
â”‚         â”‚                                                   â”‚
â”‚         â–¼                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                       â”‚
â”‚  â”‚ NewState Type?   â”‚                                       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                       â”‚
â”‚           â”‚                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â–¼        â–¼        â–¼        â–¼        â–¼        â–¼            â”‚
â”‚ Playing  Paused  Cutscene  Death  Victory  Loading         â”‚
â”‚  â”‚        â”‚        â”‚        â”‚        â”‚        â”‚            â”‚
â”‚  â–¼        â–¼        â–¼        â–¼        â–¼        â–¼            â”‚
â”‚ [Enable  [Show   [Disable [Show   [Show   [Show            â”‚
â”‚  Input]  Pause   Input]   Death   Victory Loading          â”‚
â”‚         Menu]            Screen] Screen] Screen]           â”‚
â”‚ [Resume  [Pause          [Stop   [Stop                     â”‚
â”‚  Time]   Time]           Music]  Combat                    â”‚
â”‚                                  Music]                     â”‚
â”‚                                                             â”‚
â”‚         â”‚                                                   â”‚
â”‚         â–¼                                                   â”‚
â”‚  [Broadcast: OnGameStateChanged(NewState, PreviousState)]   â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Checkpoint System

### BP_Checkpoint

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ BP_Checkpoint                                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  Components:                                                â”‚
â”‚  â”œâ”€â”€ Trigger Volume                                         â”‚
â”‚  â”œâ”€â”€ Visual Indicator (subtle light column)                 â”‚
â”‚  â””â”€â”€ Audio Component                                        â”‚
â”‚                                                             â”‚
â”‚  Variables:                                                 â”‚
â”‚  â”œâ”€â”€ CheckpointID (Name) - Unique identifier                â”‚
â”‚  â”œâ”€â”€ SpawnTransform (Transform) - Where to respawn          â”‚
â”‚  â”œâ”€â”€ bIsActivated (bool)                                    â”‚
â”‚  â””â”€â”€ bAutoSave (bool) - Save game on activation             â”‚
â”‚                                                             â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                                             â”‚
â”‚  [OnComponentBeginOverlap]                                  â”‚
â”‚       â”‚                                                     â”‚
â”‚       â–¼                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                       â”‚
â”‚  â”‚ Is Player?       â”‚                                       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                       â”‚
â”‚      Yes  â”‚  No                                             â”‚
â”‚           â–¼  â–¼                                              â”‚
â”‚    [Activate]  [Return]                                     â”‚
â”‚           â”‚                                                 â”‚
â”‚           â–¼                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                       â”‚
â”‚  â”‚ Already Active?  â”‚                                       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                       â”‚
â”‚       No  â”‚  Yes                                            â”‚
â”‚           â–¼  â–¼                                              â”‚
â”‚    [Process]  [Return]                                      â”‚
â”‚           â”‚                                                 â”‚
â”‚           â–¼                                                 â”‚
â”‚  [Set bIsActivated = True]                                  â”‚
â”‚           â”‚                                                 â”‚
â”‚           â–¼                                                 â”‚
â”‚  [Play Activation VFX (subtle)]                             â”‚
â”‚           â”‚                                                 â”‚
â”‚           â–¼                                                 â”‚
â”‚  [Play Checkpoint Sound (soft chime)]                       â”‚
â”‚           â”‚                                                 â”‚
â”‚           â–¼                                                 â”‚
â”‚  [Call GameMode.RegisterCheckpoint(self)]                   â”‚
â”‚           â”‚                                                 â”‚
â”‚           â–¼                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                       â”‚
â”‚  â”‚ bAutoSave?       â”‚                                       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                       â”‚
â”‚      Yes  â”‚  No                                             â”‚
â”‚           â–¼  â–¼                                              â”‚
â”‚   [GameInstance.    [Continue]                              â”‚
â”‚    SaveGame()]                                              â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Respawn System

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ RespawnPlayer (Game Mode Function)                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  [Function: RespawnPlayer]                                  â”‚
â”‚       â”‚                                                     â”‚
â”‚       â–¼                                                     â”‚
â”‚  [Get Current Checkpoint]                                   â”‚
â”‚       â”‚                                                     â”‚
â”‚       â–¼                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                       â”‚
â”‚  â”‚ Checkpoint Valid?â”‚                                       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                       â”‚
â”‚      Yes  â”‚  No                                             â”‚
â”‚           â–¼  â–¼                                              â”‚
â”‚   [Use Checkpoint  [Use Level                               â”‚
â”‚    SpawnTransform]  Default Spawn]                          â”‚
â”‚           â”‚               â”‚                                 â”‚
â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                                 â”‚
â”‚                   â–¼                                         â”‚
â”‚  [Fade Screen to Black]                                     â”‚
â”‚                   â”‚                                         â”‚
â”‚                   â–¼                                         â”‚
â”‚  [Teleport Player to Spawn Point]                           â”‚
â”‚                   â”‚                                         â”‚
â”‚                   â–¼                                         â”‚
â”‚  [Reset Player Health to Max]                               â”‚
â”‚                   â”‚                                         â”‚
â”‚                   â–¼                                         â”‚
â”‚  [Reset Player State (not climbing, etc.)]                  â”‚
â”‚                   â”‚                                         â”‚
â”‚                   â–¼                                         â”‚
â”‚  [Fade Screen from Black]                                   â”‚
â”‚                   â”‚                                         â”‚
â”‚                   â–¼                                         â”‚
â”‚  [Set GameState = Playing]                                  â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Death & Respawn

### Player Death Handler

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ OnPlayerDeath (Game Mode)                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  [Event: OnPlayerDeath]                                     â”‚
â”‚       â”‚                                                     â”‚
â”‚       â–¼                                                     â”‚
â”‚  [Set GameState = Death]                                    â”‚
â”‚       â”‚                                                     â”‚
â”‚       â–¼                                                     â”‚
â”‚  [Disable Player Input]                                     â”‚
â”‚       â”‚                                                     â”‚
â”‚       â–¼                                                     â”‚
â”‚  [Play Death Animation on Player]                           â”‚
â”‚       â”‚                                                     â”‚
â”‚       â–¼                                                     â”‚
â”‚  [Slow Time to 0.3x]                                        â”‚
â”‚       â”‚                                                     â”‚
â”‚       â–¼                                                     â”‚
â”‚  [Delay: 1.5 seconds]                                       â”‚
â”‚       â”‚                                                     â”‚
â”‚       â–¼                                                     â”‚
â”‚  [Show Death UI]                                            â”‚
â”‚  â”‚  â€¢ "You Died" text                                       â”‚
â”‚  â”‚  â€¢ "Press [Button] to Continue"                          â”‚
â”‚       â”‚                                                     â”‚
â”‚       â–¼                                                     â”‚
â”‚  [Wait for Input]                                           â”‚
â”‚       â”‚                                                     â”‚
â”‚       â–¼                                                     â”‚
â”‚  [Call RespawnPlayer()]                                     â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## UI Flow

### Widget Hierarchy

```
WBP_HUD (Master HUD Widget)
â”œâ”€â”€ WBP_PlayerStatus
â”‚   â”œâ”€â”€ Health Bar
â”‚   â””â”€â”€ Stamina Bar
â”œâ”€â”€ WBP_InteractionPrompt
â”‚   â””â”€â”€ "[E] Interact" text
â”œâ”€â”€ WBP_Compass (optional)
â””â”€â”€ WBP_Subtitles
    â””â”€â”€ Dialogue text area

WBP_PauseMenu
â”œâ”€â”€ Resume Button
â”œâ”€â”€ Collectibles Button
â”œâ”€â”€ Settings Button
â””â”€â”€ Quit Button

WBP_DeathScreen
â”œâ”€â”€ "You Died" text
â””â”€â”€ "Continue" prompt

WBP_LoadingScreen
â”œâ”€â”€ Loading bar
â”œâ”€â”€ Tip text
â””â”€â”€ Background art
```

### HUD Visibility Logic

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ HUD Element Visibility                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  Health Bar:                                                â”‚
â”‚  â”œâ”€â”€ Show: When damaged                                     â”‚
â”‚  â”œâ”€â”€ Show: During combat                                    â”‚
â”‚  â””â”€â”€ Fade: 3 seconds after last damage                      â”‚
â”‚                                                             â”‚
â”‚  Stamina Bar:                                               â”‚
â”‚  â”œâ”€â”€ Show: When stamina used                                â”‚
â”‚  â”œâ”€â”€ Show: When sprinting                                   â”‚
â”‚  â””â”€â”€ Fade: 3 seconds after full regen                       â”‚
â”‚                                                             â”‚
â”‚  Interaction Prompt:                                        â”‚
â”‚  â”œâ”€â”€ Show: When near interactable                           â”‚
â”‚  â””â”€â”€ Hide: When out of range                                â”‚
â”‚                                                             â”‚
â”‚  Subtitles:                                                 â”‚
â”‚  â”œâ”€â”€ Show: When dialogue playing                            â”‚
â”‚  â””â”€â”€ Hide: When dialogue ends                               â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Collectible Tracking

### Collectible Pickup Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ On Collectible Pickup                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  [Player overlaps collectible]                              â”‚
â”‚       â”‚                                                     â”‚
â”‚       â–¼                                                     â”‚
â”‚  [Get Collectible ID]                                       â”‚
â”‚       â”‚                                                     â”‚
â”‚       â–¼                                                     â”‚
â”‚  [Check: Already Collected?]                                â”‚
â”‚       â”‚                                                     â”‚
â”‚      No                                                     â”‚
â”‚       â–¼                                                     â”‚
â”‚  [Add to GameInstance.SaveData.Collected Array]             â”‚
â”‚       â”‚                                                     â”‚
â”‚       â–¼                                                     â”‚
â”‚  [Play Pickup VFX]                                          â”‚
â”‚       â”‚                                                     â”‚
â”‚       â–¼                                                     â”‚
â”‚  [Play Pickup Sound]                                        â”‚
â”‚       â”‚                                                     â”‚
â”‚       â–¼                                                     â”‚
â”‚  [Show Pickup UI notification]                              â”‚
â”‚  â”‚  â€¢ Spirit Essence: "+1 Spirit Essence (X/25)"            â”‚
â”‚  â”‚  â€¢ Lore Stone: "Lore Stone Discovered"                   â”‚
â”‚  â”‚  â€¢ Relic: "Guardian Relic Found!"                        â”‚
â”‚       â”‚                                                     â”‚
â”‚       â–¼                                                     â”‚
â”‚  [Check Milestones]                                         â”‚
â”‚  â”‚  â€¢ 5 Essence: Health Upgrade                             â”‚
â”‚  â”‚  â€¢ 10 Essence: Stamina Upgrade                           â”‚
â”‚       â”‚                                                     â”‚
â”‚       â–¼                                                     â”‚
â”‚  [Destroy/Hide Collectible Actor]                           â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Area Transitions

### Level Streaming Setup

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Area Transition System                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  Persistent Level: L_VerdantHeart_Persistent                â”‚
â”‚  â”œâ”€â”€ Player Start                                           â”‚
â”‚  â”œâ”€â”€ Game Mode                                              â”‚
â”‚  â”œâ”€â”€ Lighting                                               â”‚
â”‚  â””â”€â”€ Post Process                                           â”‚
â”‚                                                             â”‚
â”‚  Streaming Levels:                                          â”‚
â”‚  â”œâ”€â”€ L_Area1_SacredGrove                                    â”‚
â”‚  â”œâ”€â”€ L_Area2_AncientRuins                                   â”‚
â”‚  â””â”€â”€ L_Area3_HeartOfForest                                  â”‚
â”‚                                                             â”‚
â”‚  Transition Volumes:                                        â”‚
â”‚  â”œâ”€â”€ Load Area 2 when approaching exit from Area 1          â”‚
â”‚  â”œâ”€â”€ Unload Area 1 when fully in Area 2                     â”‚
â”‚  â””â”€â”€ etc.                                                   â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Area Transition Blueprint

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ BP_AreaTransition                                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  [OnComponentBeginOverlap - Pre-load volume]                â”‚
â”‚       â”‚                                                     â”‚
â”‚       â–¼                                                     â”‚
â”‚  [Load Level Instance (async): NextAreaLevel]               â”‚
â”‚                                                             â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                                             â”‚
â”‚  [OnComponentBeginOverlap - Transition volume]              â”‚
â”‚       â”‚                                                     â”‚
â”‚       â–¼                                                     â”‚
â”‚  [Set GameState = Loading]                                  â”‚
â”‚       â”‚                                                     â”‚
â”‚       â–¼                                                     â”‚
â”‚  [Fade to Black]                                            â”‚
â”‚       â”‚                                                     â”‚
â”‚       â–¼                                                     â”‚
â”‚  [Wait for Level Loaded]                                    â”‚
â”‚       â”‚                                                     â”‚
â”‚       â–¼                                                     â”‚
â”‚  [Unload Previous Area Level]                               â”‚
â”‚       â”‚                                                     â”‚
â”‚       â–¼                                                     â”‚
â”‚  [Teleport Player to New Area Start]                        â”‚
â”‚       â”‚                                                     â”‚
â”‚       â–¼                                                     â”‚
â”‚  [Update CurrentArea in SaveData]                           â”‚
â”‚       â”‚                                                     â”‚
â”‚       â–¼                                                     â”‚
â”‚  [Auto-Save]                                                â”‚
â”‚       â”‚                                                     â”‚
â”‚       â–¼                                                     â”‚
â”‚  [Fade from Black]                                          â”‚
â”‚       â”‚                                                     â”‚
â”‚       â–¼                                                     â”‚
â”‚  [Set GameState = Playing]                                  â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Implementation Order

1. **Game Instance** (save data structure)
2. **Game Mode** (basic state management)
3. **Checkpoint System**
4. **Death/Respawn Flow**
5. **HUD Widgets**
6. **Pause Menu**
7. **Collectible Tracking**
8. **Area Transitions**
9. **Save/Load System**

---

*Game flow is invisible when done right. Players should never think about it.*
